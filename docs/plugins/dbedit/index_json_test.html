<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Basic JSON Editor Table</title>
    <script>
      var vDataJSON = {};
      var vSchemaID = "globallibs";
      var vFileOut = vSchemaID+".json";
      var vEditorData;
    </script>
   <!--BEGIN: Load Schema for JSON Editor -->
    <script src="schema/car.schema"></script>
    <script src="schema/globallibs.schema"></script>

    <!--END: Load Schema for JSON Editor -->
    <link href="../jquery/jquery-ui.css" rel="stylesheet">
    <!-- Bootstrap Core CSS -->
     <link href="css/bootstrap.min.css" rel="stylesheet">
     <!-- Font-Awesome CSS -->
     <link href="font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
     <script src="../../js/arrayhash.js"></script>
     <script src="../../js/filesaver.js"></script>
     <script src="../../js/linkparam.js"></script>
     <script src="../../js/string.js"></script>
     <script src="js/jsoneditor.js"></script>
     <script src="js/predbedit.js"></script>
     <script>
     var vDataJSON = {};
     var vSchemaID = "car";
     var vFileOut = vSchemaID+".json";
     // This is the starting value for the editor
     // We will use this to seed the initial editor
     // and to provide a "Restore to Default" button.
     var init_DB = [];
     // Set the default CSS theme and icon library globally
     JSONEditor.defaults.theme = 'bootstrap3';
     JSONEditor.defaults.iconlib = 'fontawesome4';


    </script>

  </head>
  <body onload="startEditorJSON()">
    <script>
    //onload="loadSchemaJSON()"
    loadScript("schema/globallibs.schema");
    </script>
    <div id='editor_holder'></div>
    <button id='submit'>Submit (console.log)</button>
    <button id='view' onclick="console.log(JSON.stringify(editor.getValue()))">View (console.log)</button>

    <script>
      // Initialize the editor with a JSON schema
      var vGlobLibSchema = vDataJSON["globallibs"];
      //   //  load JSON
      // $.getJSON("demo_ajax_json.js", function(result){
      //       $.each(result, function(i, field){
      //           $("div").append(field + " ");
      //       });
      //   });
      var editor = new JSONEditor(document.getElementById('editor_holder'),{
        // Enable fetching schemas via ajax
        //ajax: true,

        // The schema for the editor
        //schema: pSchemaJSON,

        schema: vDataJSON[vSchemaID],

        // Seed the form with a starting value
        startval: vEditorData
      });
      // Hook up the submit button to log to the console
      document.getElementById('submit').addEventListener('click',function() {
        // Get the value from the editor
        console.log(editor.getValue());
      });
    </script>
    <XXXscript src="js/postdbedit.js"></script>
  </body>
</html>
